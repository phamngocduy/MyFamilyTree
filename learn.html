<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Family Tree</title>
    <link href="packages/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="packages/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet">
    <script src="packages/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="packages/vue/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <Component :msg="greeting"></Component>
        <Treenode v-for="node in nodes" :key="node.id" :node="node"></Treenode>
    </div>
    <template id="TreeNode">
        <div>
            {{node.label}}
        </div>
        <div v-if="hasChildren">
            <TreeNode v-for="child in node.children" :key="child.id" :node="child"></TreeNode>
        </div>
    </template>
    <template id="ChildComp">
        <h2>{{msg}}</h2>
    </template>
</body>
<script>
    const Treenode = {
        name: 'Treenode',
        props: {
            msg: String,
            node: Object
        },
        computed: {
            hasChildren() {
                return this.node.children?.length;
            }
        },
        template: document.getElementById('TreeNode').innerHTML
    };
    const Component = {
        props: {
            msg: String
        },
        template: document.getElementById('ChildComp').innerHTML
    }
</script>
<script>
    const {createApp} = Vue;
    const view = createApp({
        components: {
            Treenode,
            Component
        },
        data() {
            return {
                greeting: 'Hello from parent'
            }
        },
        computed: {
            nodes() {
                return [{
                    id: 1,
                    label: 'Foods',
                    children: [{
                        id: 2,
                        label: 'Fruits',
                        children: [{
                            id: 3,
                            label: 'Banana'
                        }, {
                            id: 4,
                            label: 'Apple'
                        }, {
                            id: 5,
                            label: 'Strawberry'
                        }]
                    }, {
                        id: 6,
                        label: 'Vegetables',
                        children: [{
                            id: 7,
                            label: 'Carrot'
                        }, {
                            id: 8,
                            label: 'Lettuce'
                        }, {
                            id: 9,
                            label: 'Potato'
                        }]
                    }]
                }, {
                    id: 10,
                    label: 'Drinks',
                    children: [{
                        id: 11,
                        label: 'Beers',
                        children: [{
                            id: 12,
                            label: 'Budweiser'
                        }, {
                            id: 13,
                            label: 'Heineken'
                        }]
                    }, {
                        id: 14,
                        label: 'Wines'
                    }, {
                        id: 15,
                        label: 'Whiskey'
                    }]
                }]
            }
        }
    }).mount('#app')
</script>
</html>